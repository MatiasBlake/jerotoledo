<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jero Toledo</title>
    <link rel="stylesheet" href="style/main.css">
</head>

<body onload="init()">

    <div id="menu">

        <nav>
            <ul>
                <li><a href="ilustracion/">ILUSTRACIÓN</a></li>
                <li><a href="defacto/">DeFacto</a></li>
            </ul>
        </nav>

    </div>

    <div style="position:relative">
        <div>
            <button id="hamburguesa" onclick="toggle_menu()">menu</button>
        </div>
        <div id="fondo">

        </div>

        <div id="about">
            <h1 style="margin:0">
                JERO TOLEDO
            </h1>
            <p>
                El campo profesional en el que me desarrollo parte de la necesidad
                interdisciplinaria inherente a cualquier problemática compleja. Pero,
                inevitablemente, la mayoría de los trabajos que he realizado dependen
                del análisis y la comprensión del lenguaje gráfico, así como de la exploración
                de sus posibilidades.
            </p>

            <a href="about.html">LEER MÁS</a>

        </div>
    </div>



</body>

<script>

    function init() {
        window.scroll({
            top: 0,
            left: 1000,
        });
        init_fondo()

    }

    function toggle_menu() {
        if (window.scrollX == 0) cerrar_menu()
        else abrir_menu()
    }

    function abrir_menu() {

        document.querySelector("#hamburguesa").innerText = "cerrar"

        window.scroll({
            top: 0,
            left: 0,
            behavior: 'smooth'
        });
    }

    function cerrar_menu() {
        document.querySelector("#hamburguesa").innerText = "menu"
        window.scroll({
            top: 0,
            left: 1000,
            behavior: 'smooth'
        });
    }





    function init_fondo() {
        window.fondo = {
            e: document.querySelector("#fondo"),
            i: -1,
            imgs: ["Escarabajo.svg", "Catarina.svg", "Chinche3.svg", "Escarabajo2.svg", "EscarabajoRinoceronte.svg", "Chinche2.svg", "Chinche.svg", " EscarabajoCaquero.svg"],
            out: true,
            fade: (o) => setTimeout(() => fondo.e.style.opacity = o, 3000)
        }
        fondo.e.addEventListener("transitionend", trans_fondo)
        trans_fondo()

    }

    function trans_fondo() {
        if (fondo.out) {
            // se acaba de acabar el fade out
            fondo.i++
            fondo.i %= fondo.imgs.length
            fondo.e.style.backgroundImage = `url(img/fondos/${fondo.imgs[fondo.i]})`
            fondo.e.style.opacity = 1
        }
        else {
            //acaba de entrar el nuevo fondo
            fondo.fade(0)
        }

        fondo.out = !fondo.out
    }

</script>

</html>